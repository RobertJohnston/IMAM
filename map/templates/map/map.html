{% extends "home/header.html" %}
{% load staticfiles %}

{% block content %}

    <title>Add map here</title>

    <!--<img src="{% static 'map/img/red-splash-small.png' %}" class="responsive-img" style='max-height:60px;' alt="splash">-->

<div id="stockGraph"></div>

<script>
    $(function () {
        $('#stockGraph').highcharts({

            title: {
            text: 'National<br>Stock Balance by Week '
            },

            subtitle: {
                text: 'IMAM Nigeria add date',
                align: 'right',
                verticalAlign: 'bottom',
                x: -50,
                y: 10
                },

            chart: {
                type: 'column'
            },

            credits: {
            enabled: false
            },

            tooltip: {
                shared: true,
                /* formatter: function() {
                    return 'stuff'
                } */
                xDateFormat: '%e %b %Y'
            },

            legend: {
                layout: 'vertical',
                align: 'left',
                x: 80,
                verticalAlign: 'top',
                y: 20,
                floating: true,
                borderColor: '#ddd',
                borderRadius: 6,
                borderWidth: 1,
                backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'
                // Change Highcharts code if the legend overlaps the columns
            },



            xAxis: {
                title: {
                    text: 'Week Number'
                },
                categories: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10',
                            '11', '12', '13', '14', '15', '16', '17', '18', '19', '20',
                            '21', '22', '23', '24', '25', '26', '27', '28', '29', 30]
            },

            plotOptions: {
                column: {
                    dataLabels: {
                        enabled: true,
                        useHTML: true,
                        formatter: function() {
                            if (this.y < 1) {
                                return '<div><img src="https://image.ibb.co/eSTgfk/red_splash_small.png"></div></div>';
                            }
                        }
                    }
                },
            },

            yAxis: {
                title: {
                    text: 'Cartons'
                },
            },

            "series":[{
                "name":"RUTF",
                type: 'column',
                "data": [0.3, 4, 16, 0, 10, 0.9, 10, 0, 11, 16, 23, 32, 46, 0, 0, 12, 4, 0, 21, 16, 3, 22, 0, 22, 24, 0, 11, 16, 23, 22],
                color: '#72639B',
                findNearestPointBy: 'x',
                tooltip: {
                    valueSuffix: ' cartons'
                }
            },  {
                name: 'Two week margin',
                type: 'line',
                data: [20, 24, 26, 20,20, 20.9, 20, 20, 21, 26, 23, 22, 22, 20, 20, 22, 24, 20, 21, 26, 23, 22, 20, 22, 24, 20, 21, 26, 23, 22],
                dashStyle: 'shortdot',
                color: '#8A9861',
                marker: { enabled: false},
                findNearestPointBy: 'x',
                tooltip: {
                    pointFormat: '<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y:,.0f}</b>'
                }
            }],
        });
    });
</script>


    <!--<div id="demoMap" style="height:250px"></div>-->
    <!--<script src="OpenLayers.js">-->

    <!--<script>-->
        <!--map = new OpenLayers.Map("demoMap");-->
        <!--map.addLayer(new OpenLayers.Layer.OSM());-->
        <!--map.zoomToMaxExtent();-->
    <!--</script>-->

{% endblock %}

